(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b04a7e2"],{"13da":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_noname_UI_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),_Users_noname_UI_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b85c"),_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("c7eb"),_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1da1"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d9e2"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("841c"),core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("c607"),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("2c3e"),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("9767"),core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("c740"),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("a630"),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("6062"),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_array_at_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("33d1"),core_js_modules_es_array_at_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_array_at_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_es_string_at_alternative_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("ea98"),core_js_modules_es_string_at_alternative_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_es_string_at_alternative_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("4e82"),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_36__),core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("3c65"),core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37__),pinyin4js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("aa62"),pinyin4js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(pinyin4js__WEBPACK_IMPORTED_MODULE_38__),_utils__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("ed08"),jszip__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("c4e3"),jszip__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_40__),iconv_lite__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("acf9"),iconv_lite__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(iconv_lite__WEBPACK_IMPORTED_MODULE_41__),element_ui_src_utils_util__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("6bd7"),_utils_ruoyi__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("c38a"),_utils_validate__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("61f7"),_components_Download_request__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("2421"),name="importLocalExtension";__webpack_exports__["a"]={name:name,components:{},data:function(){return{name:name,loadedTotal:0,loaded:0,height:"calc(100vh - 200px)",formData:{import:{value:!0,list:[{label:"显示",value:!0},{label:"隐藏",value:!1}]},enable:{value:!0,list:[{label:"开启",value:!0},{label:"关闭",value:!1}]},currentCommand:"开启",enableOptions:{"开启":"批量开启","关闭":"批量关闭"},uploadList:[],switch:{active:"#13ce66",inactive:"#ff4949"},selectList:[{label:"是否扩展",options:[{value:"extension",label:"是扩展"},{value:"NoExtension",label:"不是扩展"}]},{label:"是否显示",options:[{value:"import",label:"显示"},{value:"noImport",label:"不显示"}]},{label:"是否开启",options:[{value:"enable",label:"已开启"},{value:"noEnable",label:"未开启"}]}],currentId:null,customColors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#1989fa",percentage:60},{color:"#6f7ad3",percentage:80},{color:"#5cb87a",percentage:100}]},loading:!0,showSearch:!0,total:0,dataList:[],sourceDataList:[],queryParams:{search:"",pageNum:1,pageSize:10,selectValue:[]},searchList:[],columns:[{key:0,label:"扩展名称",visible:!0,prop:"name"},{key:1,label:"扩展拼音",visible:!1,prop:"pinyin"},{key:2,label:"是否扩展",visible:!0,prop:"isExtension"},{key:3,label:"是否显示",visible:!0,prop:"isImport"},{key:4,label:"是否开启",visible:!0,prop:"isEnable"},{key:5,label:"文件大小",visible:!1,prop:"fileSize"},{key:6,label:"源文件名",visible:!1,prop:"fileName"},{key:7,label:"操作",visible:!0,prop:"edit"}],showPrompt:!1,showSaveDialog:!1,selectionList:[],method:"文件夹导入",methodOptions:[{label:"文件夹导入",value:"文件夹导入"},{label:"解压导入",value:"解压导入"}],zipEntityUUIDList:[]}},created:function created(){var _this=this;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function _callee(){var method,url,loadExtension;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_components_Download_request__WEBPACK_IMPORTED_MODULE_45__["a"].defaults.baseURL=_this.parentPath,_this.url=_this.$cache.local.get("".concat(name," - read - url"))||"files",method=_this.$cache.local.get("".concat(name," - method")),method&&(_this.method=method),_this.isDirectedImport&&(_this.url=_this.isDevice?"extension":_this.parentPath+"/extension"),url=_this.url,loadExtension=function loadExtension(data,file,zipEntity,filename,commit){if(Object(element_ui_src_utils_util__WEBPACK_IMPORTED_MODULE_42__["a"])(data))throw new Error("不是扩展，缺少extension.js文件或者extension.js内的内容为空");if(_this.isDevice){var UUID=Math.random().toString(16).slice(2),readFileDataUUID=String((Math.random()*(new Date).getTime()).toFixed(0))+Math.random().toString(16).slice(2);parent[readFileDataUUID]=data,_this.zipEntityUUIDList.push(readFileDataUUID),_this.postMessage({filename:filename,type:"loadExtension",data:readFileDataUUID,UUID:UUID});var onmessage=function e(_){var t,r=null===(t=_.data)||void 0===t?void 0:t.data;if(r.UUID!==UUID)return!1;window.removeEventListener("message",e);var s=r.filename,n=r.name,a=r.isExtension,o=r.zipEntityUUID;_this.zipEntityUUIDList.push(o),commit({fileName:s,folderName:n,isExtension:!!a,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(file.name)?file.name[0].byteLength:file.size,zipEntity:parent[o]})};return window.addEventListener("message",onmessage),!0}var extname;if(_status.importingExtension=!0,eval(data),_status.importingExtension=!1,!game.importedPack)throw new Error("!game.importedPack");extname=game.importedPack.name;var cfg=game.importedPack.config,extensionMenu=lib.extensionMenu["extension_".concat(extname)];return extensionMenu&&Object(_utils_ruoyi__WEBPACK_IMPORTED_MODULE_43__["b"])(cfg,extensionMenu),commit({fileName:filename,folderName:extname,isExtension:!0,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(file.name)?file.name[0].byteLength:file.size,zipEntity:zipEntity}),!0},_this.parentPath&&(_this.isDirectedImport?_this.getFileList(url,(function(e,_){var t=e.filter((function(e){return!lib.config.all.plays.includes(e)}));_this.loadedTotal=t.length;var r=t.map((function(e){return new Promise((function(_){_this.hasDirectory("".concat(url,"/").concat(e,"/extension.js")).then((function(t){return _({isExtension:t,folderName:e})})).catch((function(t){return _({isExtension:!1,error:t,folderName:e})})).finally((function(){_this.loaded++}))}))}));Promise.all(r).then((function(e){_this.sourceDataList=_this.generateData(e),_this.$modal.msgSuccess("加载完毕"),_this.getList(),setTimeout((function(){return _this.$refs["table"].doLayout()}),1e3)}))})):(_this.columns[3].visible=!1,_this.columns[4].visible=!1,_this.columns[5].visible=!0,_this.columns[6].visible=!0,_this.getFileList("".concat(parent.__dirname,"/").concat(url),(function(e,_){var t=_.filter((function(e){return Object(_utils__WEBPACK_IMPORTED_MODULE_39__["i"])(e)}));_this.loadedTotal=t.length;var r=t.map((function(e){return new Promise((function(_){_this.readFile(url,e).then((function(r){var s=new File([r],url+"/"+e);_this.isDevice?_this.asyncFileReader(s).then((function(t){return loadExtension(t,s,null,e,_)})).catch((function(t){_({fileName:e,folderName:String(t),isExtension:!1,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(s.name)?s.name[0].byteLength:s.size})})).finally((function(){_this.loaded++,_this.loadedTotal=t.length})):jszip__WEBPACK_IMPORTED_MODULE_40___default.a.loadAsync(s,{decodeFileName:function(e){return iconv_lite__WEBPACK_IMPORTED_MODULE_41___default.a.decode(e,"gbk")}}).then((function(t){var r=t.file("extension.js");return null!==r?r.async("string").then((function(r){return loadExtension(r,s,t,e,_)})).catch((function(t){_({fileName:e,folderName:String(t),isExtension:!1,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(s.name)?s.name[0].byteLength:s.size})})):_({fileName:e,folderName:"未找到extension.js主要文件,请检查该文件夹",isExtension:!1,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(s.name)?s.name[0].byteLength:s.size}),!0})).catch((function(t){_({fileName:e,folderName:String(t),isExtension:!1,fileSize:Object(_utils_validate__WEBPACK_IMPORTED_MODULE_44__["a"])(s.name)?s.name[0].byteLength:s.size})})).finally((function(){_this.loaded++,_this.loadedTotal=t.length}))})).catch((function(r){_this.loaded++,_this.loadedTotal=t.length,_({fileName:e,folderName:"读取文件失败："+String(r),isExtension:!1,fileSize:0})}))}))}));Promise.all(r).then((function(e){_this.sourceDataList=_this.generateData(e),_this.$modal.msgSuccess("加载完毕"),_this.getList(),setTimeout((function(){return _this.$refs["table"].doLayout()}),1e3)}))})))),_this.isDevice&&(_this.height="360px");case 9:case"end":return _context.stop()}}),_callee)})))()},computed:{theme:function(){return this.$store.state.settings.theme},isDirectedImport:function(){return"文件夹导入"===this.method},loadExtensionProgress:function(){return(this.loaded/this.loadedTotal*100).toFixed(2)}},watch:{searchList:function(e){var _=this;this.loading=!0,setTimeout((function(){if(!e.length)return _.dataList=[],_.total=0,void(_.loading=!1);var t=null;_.queryParams.search&&(t=_.queryParams.search.replace(/\s+/g,"").split("").join("|"));var r=(_.queryParams.pageNum-1)*_.queryParams.pageSize;_.total=e.length;var s=e.map((function(e){var r={};for(var s in e)e.hasOwnProperty(s)&&(t&&"string"===typeof r[s]?r[s]=e[s].replace(new RegExp(t,"gim"),(function(e,t,r){return e.fontcolor(_.theme)})):r[s]=e[s]);return r}));_.dataList=s.slice(r,r+_.queryParams.pageSize),_.loading=!1}),150)}},methods:{shareExtension:function(e){var _=this,t=e.name,r=function(e){_.$modal.msgSuccess("调用成功！")},s=function(e){_.$modal.msgInfo("此安装包不支持分享！"),_.$modal.alertWarning("点击链接加入群聊【无名杀-假装无敌】：https://jq.qq.com/?_wv=1027&k=ijxNlZ0W<br>群号：314590231",{dangerouslyUseHTMLString:!0})};this.isDevice?parent.cordova.exec(r,s,"PretendInvincible","shareExtension",[t]):s()},asyncFileReader:function(e){return new Promise((function(_){var t=new parent.FileReader;t.onload=function(e){return _(e.target.result)},t.readAsArrayBuffer(e)}))},multipleDeleteExtension:function(){this.selectionList.forEach(this.handleDelete)},getFileList:function(e,_){var t=[],r=[];if(this.isDevice)game.getFileList(e,_);else{if(!lib.node.fs.existsSync(e)||!lib.node.fs.statSync(e).isDirectory())return this.$modal.msgInfo("请检查路径：".concat(e)),_([],[]);lib.node.fs.readdir(e,(function(s,n){for(var a=0;a<n.length;a++)"."!==n[a][0]&&"_"!==n[a][0]&&(lib.node.fs.statSync(e+"/"+n[a]).isDirectory()?t.push(n[a]):r.push(n[a]));_(t,r)}))}},handleDelete:function(e){var _=this,t=e.fileName,r=e.name;e.buttonVisible=!1;var s=function(e,t){if(t)return console.log("删除文件失败：",e,t),_.$modal.msgInfo("删除失败：".concat(e,"，").concat(t.message||String(t)));var r=_.sourceDataList.findIndex((function(_){return _.name===e||_.fileName===e}));-1!==r?(_.sourceDataList.splice(r,1),_.getList(),_.$modal.msgSuccess("删除成功：".concat(e))):_.$modal.msgInfo("删除失败： 未找到该扩展，请重新刷新页面再次尝试")};this.isDirectedImport?(game.removeExtension(r),s(r)):this.isDevice?parent.resolveLocalFileSystemURL(this.parentPath,(function(e){e.getFile(_.url+"/"+t,{},(function(e){e.remove(),s(t)}),(function(e){return s(t,e)}))}),(function(e){return s(t,e)})):lib.node.fs.unlink(this.url+"/"+t,(function(e){return s(t,e)}))},search:function(){if(!this.sourceDataList.length)return[];var e=this.queryParams.search,_=this.queryParams.selectValue;return this.sourceDataList.filter((function(t){if(e&&!t.name.includes(e)&&!t.pinyin.includes(e))return!1;if(_.length){var r,s=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__["a"])(_);try{for(s.s();!(r=s.n()).done;){var n=r.value;switch(n){case"noImport":if(t.isImport)return!1;break;case"import":if(!t.isImport)return!1;break;case"extension":if(!t.isExtension)return!1;break;case"NoExtension":if(t.isExtension)return!1;break;case"enable":if(!t.isEnable)return!1;break;case"noEnable":if(t.isEnable)return!1;break}}}catch(a){s.e(a)}finally{s.f()}}return!0}))},hasDirectory:function(e){var _=this;return new Promise((function(t,r){if(_.isDevice){var s=Object(_utils__WEBPACK_IMPORTED_MODULE_39__["g"])(e),n=function(e){return r(e)},a=function(e){return t(!0)};if(s){e=e.replace(s,"");var o=a;a=function(e){e.getFile(s,{create:!1},o,n)}}parent.resolveLocalFileSystemURL(_.parentPath,(function(_){_.getDirectory(e,{},a,n)}),n)}else lib.node.fs.exists(e,(function(e){return t(e)}))}))},readFile:function(e,_){var t=this;return new Promise((function(r,s){if(parent.resolveLocalFileSystemURL){var n=function(e){console.error(e),s(e)};parent.resolveLocalFileSystemURL(t.parentPath,(function(t){t.getFile(e+"/"+_,{},(function(e){e.file((function(e){var _=new parent.FileReader;_.onload=function(e){r(e.target.result)},_.readAsArrayBuffer(e)}),n)}),n)}),(function(e){t.$modal.notifyError("无名杀根目录:"+t.parentPath,{title:"无名杀根目录读取错误"}),s(e)}))}else lib.node.fs.readFile(e+"/"+_,null,(function(e,_){e?(console.error(e),s(e)):r(_)}))}))},getList:function(){this.loading=!0,this.searchList=this.search(),this.loading=!1},querySearch:function(){if(!1!==this.loading)return this.$modal.msgInfo("请耐心等待初始化！");this.loading=!0,this.queryParams.pageNum=1,this.searchList=this.search(),this.loading=!1},generateData:function(e){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _=e.map((function(e){return{name:e.folderName,isExtension:e.isExtension,isImport:lib.config.extensions.includes(e.folderName),isEnable:!0===lib.config["extension_".concat(e.folderName,"_enable")],fileSize:Object(_utils__WEBPACK_IMPORTED_MODULE_39__["b"])(e.fileSize),fileName:e.fileName,zipEntity:e.zipEntity,buttonVisible:!1,total:0,loaded:0,progress:0,errorFoldersList:[],errorFilesList:[],statusText:"当前无任务",pinyin:pinyin4js__WEBPACK_IMPORTED_MODULE_38___default.a.convertToPinyinString(e.fileName||e.folderName,"",pinyin4js__WEBPACK_IMPORTED_MODULE_38___default.a.WITHOUT_TONE)}})),_},tableRowClassName:function(e){var _=e.row,t=(e.rowIndex,_.isExtension),r=_.isEnable,s=_.isImport;return t?r&&s?"success-row":"warning-row":"error-row"},getSummaries:function(e){var _=this.sourceDataList,t=["统计","","总共".concat(_.length,"个文件夹")];"解压导入"!==this.method&&t.splice(1,1);var r,s=[0,0],n=[0,0],a=[0,0],o=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__["a"])(_);try{for(o.s();!(r=o.n()).done;){var i=r.value;s[i["isExtension"]?0:1]++,n[i["isEnable"]?0:1]++,a[i["isImport"]?0:1]++}}catch(l){o.e(l)}finally{o.f()}return t.push("是扩展：".concat(s[0],"\n不是扩展：").concat(s[1])),t.push("已开启：".concat(n[0],"\n未开启：").concat(n[1])),t.push("已导入".concat(a[0],"\n未导入：").concat(a[1])),t.push("N/A"),t},changeSwitch:function(e,_){var t=e[_],r=this.sourceDataList.find((function(_){return _.name===e.name}));"isEnable"===_?(game.saveConfig("extension_".concat(e.name,"_enable"),t),t&&!e.isImport&&(e.isImport=!0,this.changeSwitch(e,"isImport"))):"isImport"===_&&(t?(lib.config.extensions.push(e.name),lib.config.extensions=Array.from(new Set(lib.config.extensions))):(e.isEnable=!1,lib.config.extensions=lib.config.extensions.filter((function(_){return _!==e.name}))),game.saveConfigValue("extensions"),this.changeSwitch(e,"isEnable")),r[_]=t},handleChange:function(e){var _=this;if(this.formData.currentId=e.at(-1),this.formData.currentId&&this.queryParams.selectValue.length>0){var t=this.queryParams.selectValue.indexOf(this.formData.currentId);if(t>-1){var r=this.formData.selectList.find((function(e){var t=e.options.filter((function(e){return e.value===_.formData.currentId}));return t.length?e:null}));r&&r.options.forEach((function(e){var t=_.queryParams.selectValue.indexOf(e.value);t>=0&&e.value!==_.formData.currentId&&_.queryParams.selectValue.splice(t,1)}))}}this.formData.currentId=null},disabledOptions:function(e){var _=this;if(!this.queryParams.selectValue.length)return!1;if(this.queryParams.selectValue.includes(e.value))return!1;var t=this.formData.selectList.find((function(e){var t=e.options.filter((function(e){return _.queryParams.selectValue.includes(e.value)}));return t.length?e:null}));return!!t.options.filter((function(_){return _.value===e.value})).length},setURL:function(){var e=this;this.$modal.prompt("请输入路径,只需要输入文件夹名即可"+(this.isDevice?"<li>例如：files、extension、catch等":"<li>例如：D:\\MyGame\\noname\\resources\\app\\files")+"<li>路径不存在将自动创建",{inputValue:this.url,inputValidator:function(e){return!(0===e.length||""===e.trim())},inputErrorMessage:"请输入路径！",dangerouslyUseHTMLString:!0}).then(function(){var _=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function _(t){var r,s,n;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(r=t.value,s=function(){setTimeout((function(){e.$modal.msgSuccess("设置成功:\t".concat(r)),e.$modal.closeLoading(),e.$tab.refreshPage()}),150)},e.$cache.local.set("".concat(name," - read - url"),r.trim()),e.$modal.loading("设置中..."),e.isDevice){_.next=14;break}return n=Object(_utils__WEBPACK_IMPORTED_MODULE_39__["f"])([r]),_.prev=6,_.next=9,e.createDirectoryQueue(n);case 9:_.next=13;break;case 11:_.prev=11,_.t0=_["catch"](6);case 13:return _.abrupt("return",s());case 14:game.ensureDirectory([r],s);case 15:case"end":return _.stop()}}),_,null,[[6,11]])})));return function(e){return _.apply(this,arguments)}}())},httpRequest:function(e){parent.JSZip.loadAsync(e.file,{decodeFileName:function(e){return iconv_lite__WEBPACK_IMPORTED_MODULE_41___default.a.decode(e,"gbk")}}).then((function(e){window.zipEnter=e;var _=Object.keys(e.files);console.log(e,_)}))},createDirectoryQueue:function(e,_){var t=this;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function r(){var s,n,a;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__["a"])(e),r.prev=1,s.s();case 3:if((n=s.n()).done){r.next=9;break}return a=n.value,r.next=7,t.createDirectory(a).then(_);case 7:r.next=3;break;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),s.e(r.t0);case 14:return r.prev=14,s.f(),r.finish(14);case 17:return r.abrupt("return",!0);case 18:case"end":return r.stop()}}),r,null,[[1,11,14,17]])})))()},createDirectory:function(e){var _=this;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function t(){return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(_.isDevice){var r=function(_){console.error(e,_),t({err:_,directory:e})};parent.resolveLocalFileSystemURL("".concat(_.parentPath),(function(_){_.getDirectory(e,{create:!0},(function(){return t(!0)}),r)}),r)}else lib.node.fs.mkdir("".concat(_.parentPath,"/").concat(e),(function(_){return _?(console.error(_),t({err:_,directory:e})):t(!0)}))})));case 1:case"end":return t.stop()}}),t)})))()},writeFile:function(e,_,t){var r=this;return new Promise((function(s,n){parent.lib.node?lib.node.fs.writeFile("".concat(r.parentPath,"/extension/").concat(e,"/").concat(_),t,(function(t){s(!t||{error:t,filePath:e,filename:_})})):parent.resolveLocalFileSystemURL("".concat(r.parentPath,"/extension/").concat(e),(function(e){e.getFile(_,{create:!0,exclusive:!1},(function(e){e.createWriter((function(e){e.write(t),s(!0)}))}))}))}))},filterColumn:function(e,_,t){var r=t.property;return _[r]===e},selectable:function(e){return e.isExtension},importMultiple:function(){var e=this,_=this.selectionList.map((function(_){return new Promise(function(){var t=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function t(r){var s,n,a,o,i,l;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=_.zipEntity,n=_.name,a=s.filter((function(e,_){return!_.dir})).map((function(e){return e.name})),o=s.filter((function(e,_){return _.dir})).map((function(e){return"extension/".concat(n,"/").concat(e.name||e)})).sort((function(e,_){return e.split("/").length>_.split("/").length?1:-1})),_.loaded=0,o.unshift("extension/"+n),_.total=o.length,i=function(e){var t=e.err,r=e.directory;_.progress=(++_.loaded/_.total*100).toFixed(2),t&&_.errorFoldersList.push({err:t,directory:r})},_.statusText="文件夹创建",t.next=10,e.createDirectoryQueue(o,i);case 10:_.statusText="进行文件创建",_.total=a.length,_.loaded=0,_.progress=(_.loaded/_.total*100).toFixed(2),l=a.map((function(t,r){return new Promise(function(){var r=Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().mark((function r(o){var i,l;return Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=s.file(t),null!==i){r.next=3;break}return r.abrupt("return",o(!0));case 3:if(l=null,!e.isDevice){r.next=8;break}l=i.asArrayBuffer(),r.next=13;break;case 8:return r.t0=parent.Uint8Array,r.next=11,i.async("arraybuffer");case 11:r.t1=r.sent,l=new r.t0(r.t1);case 13:e.writeFile(n,t,l).then((function(e){a.splice(a.findIndex((function(e){return e===t})),1),_.loaded++,_.progress=(_.loaded/_.total*100).toFixed(2),!0!==e&&_.errorFilesList.push(Object(_Users_noname_UI_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},e)),o(!0)}));case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})),Promise.all(l).then((function(t){console.log("errorFilesList:",_.errorFilesList),lib.config.extensions.push(n),lib.config.extensions=Array.from(new Set(lib.config.extensions)),game.saveConfig("extensions",lib.config.extensions),game.saveConfig("extension_".concat(n,"_enable"),!0),e.$modal.notifySuccess("导入成功："+n,{title:e.method,duration:0}),r(!0)}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.all(_).then((function(_){e.$modal.notifySuccess("导入完成所选扩展",{title:e.method,duration:0})}))},enableMultiple:function(e){var _=this,t=this.formData.enable.value,r=this.formData.import.value;this.selectionList.forEach((function(e){e.isEnable=t,e.isImport=r,_.changeSwitch(e,"isImport",!0),_.changeSwitch(e,"isEnable",!0)})),this.$modal.notifySuccess("设置成功："+this.selectionList.map((function(e){return e.name})))},methodChange:function(e){this.$cache.local.set("".concat(name," - method"),e),this.$tab.refreshPage()}},beforeDestroy:function(){this.zipEntityUUIDList.forEach((function(e){parent[e]=null}))}}},2:function(e,_){},2421:function(e,_,t){"use strict";t("d3b7"),t("ac1f"),t("5319"),t("fb6a"),t("25f0"),t("99af");var r=t("bc3a"),s=t.n(r),n=t("81ae"),a=t("ed08"),o=s.a.create({timeoutErrorMessage:"请求超时",timeout:1e4,validateStatus:function(e){return e>=200&&e<300||0===e}});o.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),o.interceptors.response.use((function(e){var _=e.config,t=_.baseURL,r=_.url;return e.filename=Object(a["g"])(r),e.filefullname=r.replace(t,""),e.filepath=e.filefullname.replace(e.filename,""),Promise.resolve(e)}),(function(e){var _=e.response;if(e.isAxiosError&&_){var t=_.status,r=_.data,s=_.config,o=s.baseURL,i=s.url;return _.id=Math.random().toString(16).slice(2),_.filefullname=i.replace(o,""),_.filename=Object(a["g"])(i),_.message=n["b"][t]||"".concat(n["b"]["default"]," ").concat(t," ").concat(r),Promise.reject(_)}return e.message=e.message||"请求失败",console.error(e),Promise.reject(e)})),_["a"]=o},2511:function(e,_,t){"use strict";t("2827")},2827:function(e,_,t){},e4b0:function(e,_,t){"use strict";t.r(_);var r=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",{staticClass:"app-container"},[e.showSearch?t("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryParams,"label-width":"50px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"搜索",prop:"cardName"}},[t("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"",placeholder:"请输入扩展名,支持拼音搜索",size:"small"},on:{change:function(_){e.queryParams.search=e.queryParams.search.trim()}},nativeOn:{keyup:function(_){return!_.type.indexOf("key")&&e._k(_.keyCode,"enter",13,_.key,"Enter")?null:(_.stopPropagation(),_.preventDefault(),e.querySearch(_))}},model:{value:e.queryParams.search,callback:function(_){e.$set(e.queryParams,"search",_)},expression:"queryParams.search"}})],1),t("el-form-item",{attrs:{label:"类型",prop:"cardName123123"}},[t("el-select",{attrs:{"multiple-limit":3,clearable:"",multiple:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.queryParams.selectValue,callback:function(_){e.$set(e.queryParams,"selectValue",_)},expression:"queryParams.selectValue"}},e._l(e.formData.selectList,(function(_){return t("el-option-group",{key:_.label,attrs:{label:_.label}},e._l(_.options,(function(_){return t("el-option",{key:_.value,attrs:{disabled:e.disabledOptions(_),label:_.label,value:_.value}})})),1)})),1)],1),e._e(),t("el-form-item",[t("el-button",{attrs:{icon:"el-icon-search",size:"small",type:"primary"},on:{click:e.querySearch}},[e._v("搜索")]),e.isDirectedImport?e._e():t("el-button",{attrs:{icon:"el-icon-s-tools",size:"small",type:"primary"},on:{click:e.setURL}},[e._v("设置读取路径 ")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(_){e.showPrompt=!e.showPrompt}}},[e._v("提示")])],1),t("el-form-item",{attrs:{label:"模式"}},[t("el-select",{on:{change:e.methodChange},model:{value:e.method,callback:function(_){e.method=_},expression:"method"}},e._l(e.methodOptions,(function(e,_){return t("el-option",{key:_,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),t("el-row",{staticClass:"mb8",attrs:{gutter:10}},[t("el-col",{attrs:{span:1.5}},[e.isDirectedImport?e._e():t("el-button",{attrs:{disabled:!e.selectionList.length,icon:"el-icon-s-tools",size:"small",type:"primary"},on:{click:e.importMultiple}},[e._v(" 批量导入 ")]),e.isDirectedImport?t("el-button",{attrs:{disabled:!e.selectionList.length,type:"primary"},on:{click:function(_){e.showSaveDialog=!0}}},[e._v(" 批量设置 ")]):e._e(),e.isDirectedImport?e._e():t("el-button",{attrs:{disabled:!e.selectionList.length,icon:"el-icon-s-tools",size:"small",type:"primary"},on:{click:e.multipleDeleteExtension}},[e._v(" 批量删除 ")])],1),t("right-toolbar",{attrs:{columns:e.columns,showSearch:e.showSearch},on:{"update:showSearch":function(_){e.showSearch=_},"update:show-search":function(_){e.showSearch=_},changeColumn:function(_){return e.$refs["table"].doLayout()},queryTable:e.getList}})],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.dataList,height:e.height,"row-class-name":e.tableRowClassName,"show-summary":!0,"summary-method":e.getSummaries,border:"","empty-text":"无","highlight-current-row":"","row-key":"name"},on:{"selection-change":function(_){return e.selectionList=_}}},[t("el-table-column",{attrs:{"reserve-selection":!0,selectable:e.selectable,type:"selection",width:"55"}}),e.isDirectedImport?e._e():t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("el-form",{staticClass:"el-form-custom-expand",staticStyle:{"max-height":"300px",overflow:"auto"},attrs:{"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:_.row.statusText,prop:"statusText"}},[t("el-progress",{attrs:{color:e.formData.customColors,percentage:_.row.progress,"stroke-width":20,"text-inside":!0}}),e._v(" "+e._s(_.row.loaded)+" / "+e._s(_.row.total)+" ")],1),t("div",[t("el-divider",[e._v("文件夹创建异常")]),e._l(_.row.errorFoldersList,(function(_,r){return t("el-form-item",{key:r,attrs:{label:_.directory}},[t("span",{staticStyle:{color:"red"}},[e._v(e._s(_.err.message))])])}))],2),t("div",[t("el-divider",[e._v("文件创建异常")]),e._l(_.row.errorFilesList,(function(_,r){return t("el-form-item",{key:r,attrs:{label:_.filename}},[t("span",{staticStyle:{color:"red"}},[e._v(e._s(_.error.message))])])}))],2)],1)]}}],null,!1,571712075)}),e.columns[0].visible?t("el-table-column",{attrs:{label:e.columns[0].label,prop:e.columns[0].prop,"show-overflow-tooltip":!0,align:"center"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("div",{staticStyle:{all:"inherit"}},[e._v(" "+e._s(_.row.name)+" ")])]}}],null,!1,3636474737)}):e._e(),e.columns[1].visible?t("el-table-column",{attrs:{label:e.columns[1].label,prop:e.columns[1].prop,align:"center"}}):e._e(),e.columns[2].visible?t("el-table-column",{attrs:{"filter-method":e.filterColumn,filters:[{text:"是扩展",value:!0},{text:"不是扩展",value:!1}],label:e.columns[2].label,prop:e.columns[2].prop,align:"center"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("el-tag",{attrs:{type:!0===_.row.isExtension?"success":"error"},domProps:{textContent:e._s(!0===_.row.isExtension?"是":"否")}})]}}],null,!1,2874478542)}):e._e(),e.columns[3].visible?t("el-table-column",{attrs:{"filter-method":e.filterColumn,filters:[{text:"显示",value:!0},{text:"不显示",value:!1}],label:e.columns[3].label,prop:e.columns[3].prop,align:"center"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("el-switch",{attrs:{"active-color":e.formData.switch.active,disabled:!_.row.isExtension,"inactive-color":e.formData.switch.inactive,"active-text":"显示","inactive-text":"隐藏"},on:{change:function(t){return e.changeSwitch(_.row,e.columns[3].prop)}},model:{value:_.row.isImport,callback:function(t){e.$set(_.row,"isImport",t)},expression:"scope.row.isImport"}})]}}],null,!1,3918639568)}):e._e(),e.columns[4].visible?t("el-table-column",{attrs:{"filter-method":e.filterColumn,filters:[{text:"开启",value:!0},{text:"未开启",value:!1}],label:e.columns[4].label,prop:e.columns[4].prop,align:"center"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("el-switch",{attrs:{"active-color":e.formData.switch.active,disabled:!_.row.isExtension,"inactive-color":e.formData.switch.inactive,"active-text":"开启","inactive-text":"未开启"},on:{change:function(t){return e.changeSwitch(_.row,e.columns[4].prop)}},model:{value:_.row.isEnable,callback:function(t){e.$set(_.row,"isEnable",t)},expression:"scope.row.isEnable"}})]}}],null,!1,3805560602)}):e._e(),e.columns[5].visible?t("el-table-column",{attrs:{label:e.columns[5].label,prop:e.columns[5].prop,align:"center"}}):e._e(),e.columns[6].visible?t("el-table-column",{attrs:{label:e.columns[6].label,prop:e.columns[6].prop,"show-overflow-tooltip":!0,align:"center"}}):e._e(),e.columns[7].visible?t("el-table-column",{attrs:{label:e.columns[7].label,prop:e.columns[7].prop,align:"center"},scopedSlots:e._u([{key:"default",fn:function(_){return[t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.shareExtension(_.row)}}},[e._v("分享 ")]),t("el-popover",{staticStyle:{"z-index":"2022"},attrs:{placement:"top",width:"160"},model:{value:_.row.buttonVisible,callback:function(t){e.$set(_.row,"buttonVisible",t)},expression:"scope.row.buttonVisible"}},[t("p",[e._v("确定要删除该文件？此操作不可撤销")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){_.row.buttonVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleDelete(_.row)}}},[e._v("确定")])],1),t("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除 ")])],1)]}}],null,!1,1984042335)}):e._e()],1),"100.00"!==String(e.loadExtensionProgress)?t("el-progress",{attrs:{color:e.formData.customColors,percentage:e.loadExtensionProgress,"stroke-width":20,"text-inside":!0}}):e._e(),e._v(" 总进度："+e._s(e.loaded)+" / "+e._s(e.loadedTotal)+" "),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{limit:e.queryParams.pageSize,page:e.queryParams.pageNum,total:e.total},on:{"update:limit":function(_){return e.$set(e.queryParams,"pageSize",_)},"update:page":function(_){return e.$set(e.queryParams,"pageNum",_)},pagination:e.getList}}),t("el-dialog",{attrs:{visible:e.showPrompt,"append-to-body":"",title:"介绍"},on:{"update:visible":function(_){e.showPrompt=_}}},[e._v(" extension.js：扩展的主要js文件，如果不存在或者执行失败，那么游戏也是无法加载此扩展的 "),t("br"),e._v(" 如果模式为"),t("b",{staticClass:"textcolor-red"},[e._v("文件夹导入")]),e._v("，路径将锁死为extension "),t("br"),e._v(" 快捷导入 - 解压导入 "),t("ol",[t("li",[e._v(" 就是万能导入扩展 ")]),t("li",[e._v(" 扩展名称：就是读取完文件内容后，该文件最终的文件夹名称 "),t("br"),e._v(" 当文件无法读取或者执行失败的时候会显示具体的错误信息 ")]),t("li",[e._v(" 是否扩展：有没有extension.js并且能够成功执行这个文件的内容 ")]),t("li",[e._v(" 文件大小：就是这个zip的大小 ")]),t("li",[e._v(" 源文件名称：就是这个zip原来的名称 ")])]),e._v(" 快捷导入 - 文件夹导入 "),t("ol",[t("li",[e._v(" 扩展名称：文件夹名称，就是扩展名称 ")]),t("li",[e._v(" 是否扩展：是否存在extension.js，不存在 ")]),t("li",[e._v(" 是否显示：选项 - 扩展 - 扩展列表 "),t("br"),e._v(" 就是是否再这里面进行显示，不显示就相当于未导入，不会进行读取的 ")]),t("li",[e._v(" 是否开启：这个扩展是否开启 ")])]),e._v(" 开关 "),t("ol",[t("li",[e._v(" 是否显示：当为"),t("span",{staticClass:"textcolor-red"},[e._v("隐藏")]),e._v("时，"),t("span",{staticClass:"textcolor-red"},[e._v("是否开启")]),e._v("将会自动调整为"),t("span",{staticClass:"textcolor-red"},[e._v("未开启")])]),t("li",[e._v(" 是否开启：当为"),t("span",{staticClass:"textcolor-red"},[e._v("开启")]),e._v("时，"),t("span",{staticClass:"textcolor-red"},[e._v("是否显示")]),e._v("会自动调整为"),t("span",{staticClass:"textcolor-red"},[e._v("显示")])])]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(_){e.showPrompt=!e.showPrompt}}},[e._v("我已知晓")])],1)]),t("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.showSaveDialog,"append-to-body":"",title:"设置保存"},on:{"update:visible":function(_){e.showSaveDialog=_}}},[t("el-form",{attrs:{"label-width":"100px",size:"medium"}},[t("el-row",{attrs:{gutter:"15"}},[t("el-form-item",{attrs:{label:"是否显示",prop:"isImport"}},[t("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.import.value,callback:function(_){e.$set(e.formData.import,"value",_)},expression:"formData.import.value"}},e._l(e.formData.import.list,(function(_,r){return t("el-radio",{key:r,attrs:{label:_.value,border:""}},[e._v(e._s(_.label)+" ")])})),1)],1),t("el-form-item",{attrs:{label:"是否开启",prop:"isEnable"}},[t("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.enable.value,callback:function(_){e.$set(e.formData.enable,"value",_)},expression:"formData.enable.value"}},e._l(e.formData.enable.list,(function(_,r){return t("el-radio",{key:r,attrs:{label:_.value,border:""}},[e._v(e._s(_.label)+" ")])})),1)],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(_){e.showSaveDialog=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(_){e.showSaveDialog=!e.showSaveDialog||e.enableMultiple()}}},[e._v("确定")])],1)],1)],1)},s=[],n=t("13da"),a=n["a"],o=(t("2511"),t("2877")),i=Object(o["a"])(a,r,s,!1,null,"4d6f0270",null);_["default"]=i.exports}}]);